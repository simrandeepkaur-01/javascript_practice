<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../../../dist/output.css">
    <style>
        ul {
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
        }
    </style>
</head>

<body>
    <ul id="js_contextMenu" class="fixed w-40 flex flex-col rounded-lg divide-y divide-gray-200 ">
        <li class="py-2 px-6 hover:bg-gray-200">Copy</li>
        <li class="py-2 px-6 hover:bg-gray-200">Paste</li>
        <li class="py-2 px-6 hover:bg-gray-200">Delete</li>
        <li class="py-2 px-6 hover:bg-gray-200">Rename</li>
        <li class="py-2 px-6 hover:bg-gray-200">Undo</li>
    </ul>

    <script>
        let contextMenu = document.querySelector('#js_contextMenu');
        contextMenu.classList.add('hidden');

        //show context menu on click on right button.
        document.addEventListener('contextmenu', (e) => {
            e.preventDefault();

            let x = e.offsetX;
            let y = e.offsetY;

            let windowWidth = window.innerWidth;
            let windowHeight = window.innerHeight;

            let contextWidth = contextMenu.offsetWidth;
            let contextHeight = contextMenu.offsetHeight;

            x = x > windowWidth - contextWidth ? windowWidth - contextWidth : x;
            y = y > windowHeight - contextHeight ? windowHeight - contextHeight : y;

            contextMenu.style.left = `${x}px`;
            contextMenu.style.top = `${y}px`;
            contextMenu.classList.remove('hidden');
        })

        contextMenu.addEventListener("click", (e) => {
            e.stopPropagation();
        });

        //hide the existing context menu on click on anywhere on the screen.
        document.addEventListener('click', () => {
            contextMenu.classList.add('hidden');
        })
    </script>
</body>

</html>